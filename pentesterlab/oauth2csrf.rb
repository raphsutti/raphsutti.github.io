require 'oauth2'

callback = "https://en6lfggedd8jd.x.pipedream.net"
app_id = "8c07e3b75df902c165d79f5083fcb135d5b322c2ee85855e4fad9d28bbfb604d"

secret = "7e83eefc53b082a479dcf31244a645488fdd851f8ea489023d5535ca0c0f66e7"
client = OAuth2::Client.new(app_id, secret, site: "http://authorization-ptl-402e9b14-540bfe3a.libcurl.so/")
puts client.auth_code.authorize_url(redirect_uri: callback)
exit

code="[CODE]"
access = client.auth_code.get_token( code, redirect_uri: callback)
access.get("/api/user").parsed

puts access.token  